# SETPARENT, ADD (label)

INCLUDE STATIC sets.cg3 ;


#######
SECTION  ## mapping rules
#######


MAP @advcl (gna_perf) - ("бол") ;
MAP @advcl (adj) IF (1 ("бол") + VerbalAdverb) ;

MAP @amod (num ord) | (loc attr) | (adj) - (advl) | Adv + Attr ;

MAP @cop ("бол" v iv) ;

MAP @punct Sent OR Cm OR Guio ;

MAP @root (n px3sp nom) IF (1 FiniteVerb) (2 (sent)) ;
MAP @root (imp) IF (-1 BOS) (1 Cm) ;
MAP @root FiniteVerb IF (NOT * @root) ;

MAP @nmod:poss (nom) - (px3sp) IF (1* (px3sp)) ;
MAP @nmod:poss (gen) ;

MAP @nsubj (n nom) IF (NOT -1* (@nsubj nom)) ;
MAP @nsubj (nom) IF (NOT * (nom)) ;

MAP @csubj (ger nom) ;

MAP @obl Dat | Loc | Ins;
MAP @obl Nom IF (1 Post) ;
	
MAP @obj ("<не>") IF (1* (tv)) ;
MAP @obj (acc) ;
MAP @obj (nom) IF (-1* (nom)) ;
	
MAP @aux (vaux) ;

MAP @parataxis (v) IF (@1 @root) ;

MAP @det (det) ;

MAP @case Post ;

MAP @nummod (num) - (ord) ;

MAP @CC CC ;

MAP @CASE Post ;

MAP @ADVCL ("<деп>") ;

#######
SECTION  ## attachement
#######


SETPARENT @root TO (@0 (*)) ;

SETPARENT (*) (NEGATE p (*)) TO (0* @root) ;

SETPARENT @nmod:poss TO (1* PersonalPossessives) ;
SETPARENT (@nmod:poss gen) TO (1* (n)) ;

SETPARENT @amod + ("[0-9]+"r) TO (2 (n px3sp)) ;
SETPARENT @amod + (loc attr) TO (1* (n)) ;
SETPARENT (@amod adj) TO (1* (n)) ;
SETPARENT (@amod adv attr) TO (1* (n)) ;


SETPARENT @nsubj TO (1* ("соғыс")) ;

SETPARENT @obl TO (1* ("соғыс")) ;

SETPARENT @obj TO (1* (v)) ;

SETPARENT @aux TO (-1 Participle) ;

SETPARENT @advcl TO (1* @root OR @parataxis) ;

SETPARENT @det TO (1* (n)) ;

SETPARENT @case TO (-1 (*)) ;

SETPARENT @cop TO (-1 (*)) ;

SETPARENT @nummod TO (1* NOMINAL) ;

# attach @goeswith to the closest token on the left without that label
SETPARENT @GOESWITH TO (-1* (*) - @GOESWITH) ;


SETCHILD (gna_perf) TO (-1 @obl) ;

SETCHILD (ger) TO (-1* @obl) ;


#######
SECTION ## Mansur
#######








